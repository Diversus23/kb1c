<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 9.00.8112.16470"></meta></head><body>
<p>Помощник обновления конфигурации позволяет получать информацию о последних обновлениях на пользовательском сайте в сети Интернет и автоматически устанавливать обновления. </p>
<p>Если у Вас уже имеется файл обновления, то помощник позволяет провести обновление с использованием файла поставки обновления (.cfu) или файла поставки конфигурации (.cf) из локального или сетевого каталога. Если файл обновления уже загружен в основную конфигурацию, и она отличается от конфигурации информационной базы, то необходимо указать вариант обновления без использования файла обновления.</p>
<h2>Получение обновлений через Интернет</h2>
<p>На первой странице помощника выберите вариант «<strong>Пользовательский сайт в Интернете (рекомендуется)</strong>». Если на пользовательском сайте имеется доступное обновление, то система сообщает номер версии, краткое описание, размер обновления и предлагает его установить. </p>
<p class="Important">В некоторых организациях для соединения с Интернетом требуется указать имя пользователя и пароль для доступа на прокси-сервер. Подробную информацию об использовании прокси-сервера можно получить у администратора вашей локальной сети.</p>
<p>Программа может при каждом запуске автоматически проверять наличие обновления конфигурации на пользовательском сайте. Для этого нужно установить флажок «<strong>Проверять наличие обновления конфигурации при каждом запуске программы</strong>». Если в результате проверки обновление будет обнаружено, программа предложит получить его с  пользовательского сайта и обновить конфигурацию.</p>
<p>Для получения обновления необходимо указать <strong>код пользователя</strong> и <strong>пароль</strong> для доступа к пользовательскому сайту. Доступ к этому сайту имеют только зарегистрированные пользователи программ системы 1С:Предприятие. Подробная информация о том, как можно получить код пользователя и пароль, содержится в разделе методической поддержки на сайте <a href="http://v8.1c.ru/"><strong>v8.1c.ru</strong></a>.</p>
<p>После нажатия на кнопку «<strong>Далее</strong>» программа устанавливает соединение с пользовательским сайтом, используя указанные код пользователя и пароль, и получает файл обновления локально на компьютер. Получение файла обновления с пользовательского сайта может занять продолжительное время, в зависимости от объема конкретного файла и скорости подключения к Интернету.</p>
<h2>Получение обновлений с диска 1С:ИТС</h2>
<p>На первой странице помощника выберите вариант «<strong>Диск 1С:ИТС</strong>». На следующей странице помощник попросит указать где именно находится диск 1С:ИТС. По умолчанию помощник сам попытается найти диск 1С:ИТС в приводе, но также можно указать локальный или сетевой каталог, в котором находится диск 1С:ИТС.</p>
<p>В первом случае необходимо вставить диск 1С:ИТС в привод и нажать кнопку «<strong>Далее</strong>». Помощник автоматически проверит наличие обновления на указанном диске 1С:ИТС, если имеется доступное обновление, то система сообщает номер версии, краткое описание, размер обновления и предлагает его установить. </p>
<p>После нажатия на кнопку «<strong>Далее</strong>» программа получает файл обновления с диска 1С:ИТС локально на компьютер. Получение файла обновления с диска 1С:ИТС может занять продолжительное время, в зависимости от объема конкретного файла и производительности компьютера.</p>
<h2>Установка обновлений </h2>
<p>После того, как обновление было получено локально на компьютер, помощник предлагает его установить.  </p>
<p>Установка обновления выполняется от имени текущего пользователя. Поэтому помощник потребует ввести Ваш пароль, если для доступа к информационной базе необходима авторизация. В случае клиент-серверного варианта развертывания системы, также может потребоваться ввести имя и пароль администратора кластера серверов.</p>
<p>Перед началом обновления конфигурации рекомендуется создавать резервную копию информационной базы. Резервная копия используется для автоматического восстановления информационной базы в случае нештатной ситуации. Если для резервного копирования используются сторонние средства, то можно отключить автоматическое создание резервной копии с помощью ссылки «<strong>Резервная копия</strong>», расположенной внизу страницы помощника.</p>
<p>При нажатии на кнопку «<strong>Далее</strong>» помощник выполнит обновление конфигурации 1С:Предприятие. Процесс обновления конфигурации может занять продолжительное время, в зависимости от производительности компьютера и объема информационной базы. Не выключайте питание компьютера до завершения процесса.</p>
<p>После завершения обновления конфигурации 1С:Предприятие будет автоматически перезапущено, и система будет готова к дальнейшей работе.</p>
<p class="Important">В файловом варианте развертывания системы перед началом обновления необходимо завершить работу пользователей, подключенных к информационной базе. В клиент-серверном варианте завершение активных и блокировка новых соединений выполняется автоматически.</p>
<h2>Планирование обновлений</h2>
<p>В случае клиент-серверного варианта развертывания системы Вы также можете задавать отложенное по времени обновление. В указанную дату и время система проведет обновление конфигурации в автоматическом режиме. При этом существует возможность оповещения на указанный адрес электронной почты об успешном или неуспешном выполнении обновления. Сама отправка сообщения отправляется с машины, на которой установлен сервер 1С:Предприятие.</p>
<p class="Important">Запланированное обновление будет выполнено с клиентского компьютера в фоновом режиме. Питание компьютера должно быть включено в указанные дату и время.</p>
<h2>При проблемах получения и установки обновлений</h2>
<p>При получении обновлений через Интернет ошибка вида "Ошибка работы с Интернет" означает, что соединение с Интернетом отсутствует или заблокировано по ряду причин: </p>
<ul><li>
<div>из-за работы установленного firewall (брандмауэра) или антивируса, блокирующего обращение к Интернет-серверу обновлений; </div>
</li><li>
<div>из-за особенностей Интернет-провайдера (использование разных IP адресов при входе на сайт и при загрузке файла); </div>
</li><li>
<div>из-за особенностей настройки локальной сети (например, при использовании прокси-сервера) </div>
</li><li>
<div>другие причины с настройками компьютера, не связанные с корректностью работы Интернет-ресурсов с обновлениями.<br> </div></li></ul><p>Для получения технической информации о причинах проблем с получением и установкой обновлений можно воспользоваться следующими средствами:</p>
<ul><li>Записи о произведенных операциях и возникших ошибках в ходе обновления заносятся в Журнал регистрации информационной базы (тип события «Обновление информационной базы»). 
</li><li>В процессе установки обновления во временной папке текущего пользователя Windows создается лог-файл с записями о ходе обновления. (Содержимое лог-файла впоследствии автоматически добавляется в Журнал регистрации.) Последний из каталогов вида %temp%\1CUpdate.&lt;набор цифр&gt;, отсортированных по алфавиту, соответствует последней сессии обновления. </li></ul><blockquote style="MARGIN-RIGHT: 0px" dir="ltr">
<p class="Important">Если настройка операционной системы "Язык программ, не поддерживающих Юникод" задана некорректно, то процесс обновления завершится с ошибкой "invalid procedure call or arguments", при этом лог-файл окажется пустым. Для устранения данной ошибки необходимо, чтобы в региональных настройках системы ("Панель управления" - "Язык и региональные стандарты" - "Дополнительно") в поле "Язык программ, не поддерживающих Юникод" был выбран русский язык.</p></blockquote>
<ul><li>Результат обновления информационной базы записывается в Журнал событий Windows (Event Log).<br></li></ul><p>Если в результате нештатной ситуации при обновлении база оказалась заблокированной, то ее можно разблокировать с помощью консоли "Администрирование серверов 1С:Предприятия", либо из командной строки, запустив 1С:Предприятие от имени администратора с ключом <strong>РазрешитьРаботуПользователей</strong> и указав код разблокировки <strong>ПакетноеОбновлениеКонфигурацииИБ</strong>. Например:</p>
<p class="SourceCode">"C:\Program Files\1cv82\bin\1cv8.exe"  ENTERPRISE /S"server\base" /N"Администратор" /P"" /WA- /CРазрешитьРаботуПользователей /UCПакетноеОбновлениеКонфигурацииИБ</p>
<p>Если обновление конфигурации завершилоcь неудачей, а во временном log-файле имеется запись: <strong>Исключение в createConnection: Error, Automation server can't create object</strong> то, скорее всего, используется 32-разрядная компонента comcntr.dll на компьютере под управлением 64-разрядной операционной системы. Для устранения данной проблемы необходимо взять 64-разрядную компоненту comcntr.dll из поставки 1С Предприятие x64 Сервер и зарегистрировать ее, запустив из командной строки:</p>
<p class="SourceCode">regsvr32 &lt;каталог 64-разрядного comcntr.dll&gt;\comcntr.dll</p></body></html>